
import { Platform } from '@/config/platforms';

export type MessageTemplateType = 
  | 'first_contact'
  | 'follow_up'
  | 'event_invitation'
  | 'collaboration'
  | 'feedback';

export type MessageTone = 'casual' | 'professional' | 'formal';

export interface MessageTemplate {
  type: MessageTemplateType;
  platform: Platform;
  structure: {
    greeting: string;
    introduction: string;
    main_content: string;
    call_to_action: string;
    closing: string;
  };
  rules: {
    max_length: number;
    tone: MessageTone;
    required_elements: string[];
  };
}

export const messageTemplates: Record<MessageTemplateType, Record<Platform, MessageTemplate>> = {
  first_contact: {
    Instagram: {
      type: 'first_contact',
      platform: 'Instagram',
      structure: {
        greeting: 'Hi {{name}} üëã',
        introduction: 'Ich bin auf dein Profil gesto√üen und {{reason}}',
        main_content: '{{personalization}}',
        call_to_action: 'W√ºrde mich freuen von dir zu h√∂ren!',
        closing: 'Beste Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['personalization', 'reason']
      }
    },
    LinkedIn: {
      type: 'first_contact',
      platform: 'LinkedIn',
      structure: {
        greeting: 'Sehr geehrte/r {{name}}',
        introduction: 'ich bin auf Ihr Profil aufmerksam geworden und {{reason}}',
        main_content: '{{personalization}}',
        call_to_action: 'Ich w√ºrde mich √ºber einen fachlichen Austausch sehr freuen.',
        closing: 'Mit besten Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'professional',
        required_elements: ['personalization', 'reason', 'business_value']
      }
    },
    Facebook: {
      type: 'first_contact',
      platform: 'Facebook',
      structure: {
        greeting: 'Hallo {{name}} üëã',
        introduction: 'Ich bin auf dein Profil gesto√üen und {{reason}}',
        main_content: '{{personalization}}',
        call_to_action: 'Lass uns gerne in Kontakt bleiben!',
        closing: 'Viele Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['personalization', 'reason']
      }
    },
    TikTok: {
      type: 'first_contact',
      platform: 'TikTok',
      structure: {
        greeting: 'Hey {{name}} ‚ú®',
        introduction: 'Dein Content ist echt cool! {{reason}}',
        main_content: '{{personalization}}',
        call_to_action: 'Lass uns connecten! ü§ù',
        closing: 'Peace ‚úåÔ∏è\n{{user_name}}'
      },
      rules: {
        max_length: 200,
        tone: 'casual',
        required_elements: ['personalization', 'content_appreciation']
      }
    },
    Offline: {
      type: 'first_contact',
      platform: 'Offline',
      structure: {
        greeting: 'Hallo {{name}}',
        introduction: 'Es freut mich, Sie kennenzulernen. {{reason}}',
        main_content: '{{personalization}}',
        call_to_action: 'Lassen Sie uns gerne in Kontakt bleiben.',
        closing: 'Mit freundlichen Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 300,
        tone: 'professional',
        required_elements: ['personalization', 'meeting_context']
      }
    }
  },
  follow_up: {
    Instagram: {
      type: 'follow_up',
      platform: 'Instagram',
      structure: {
        greeting: 'Hi {{name}} üëã',
        introduction: 'Danke f√ºr {{last_interaction}}',
        main_content: '{{follow_up_content}}',
        call_to_action: '{{next_steps}}',
        closing: 'Beste Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['last_interaction', 'next_steps']
      }
    },
    LinkedIn: {
      type: 'follow_up',
      platform: 'LinkedIn',
      structure: {
        greeting: 'Sehr geehrte/r {{name}}',
        introduction: 'vielen Dank f√ºr {{last_interaction}}',
        main_content: '{{follow_up_content}}',
        call_to_action: '{{next_steps}}',
        closing: 'Mit besten Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'professional',
        required_elements: ['last_interaction', 'next_steps']
      }
    },
    Facebook: {
      type: 'follow_up',
      platform: 'Facebook',
      structure: {
        greeting: 'Hallo {{name}} üëã',
        introduction: 'Danke f√ºr {{last_interaction}}',
        main_content: '{{follow_up_content}}',
        call_to_action: '{{next_steps}}',
        closing: 'Viele Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['last_interaction', 'next_steps']
      }
    },
    TikTok: {
      type: 'follow_up',
      platform: 'TikTok',
      structure: {
        greeting: 'Hey {{name}} üî•',
        introduction: 'Dein letzter Post war mega! {{last_interaction}}',
        main_content: '{{follow_up_content}}',
        call_to_action: 'Let\'s talk! üí¨',
        closing: 'Stay awesome ‚ú®\n{{user_name}}'
      },
      rules: {
        max_length: 200,
        tone: 'casual',
        required_elements: ['content_reference', 'collaboration_idea']
      }
    },
    Offline: {
      type: 'follow_up',
      platform: 'Offline',
      structure: {
        greeting: 'Hallo {{name}}',
        introduction: 'Bezugnehmend auf {{last_interaction}}',
        main_content: '{{follow_up_content}}',
        call_to_action: 'K√∂nnen wir einen Termin vereinbaren?',
        closing: 'Mit freundlichen Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 350,
        tone: 'professional',
        required_elements: ['meeting_reference', 'next_steps']
      }
    }
  },
  // ... Additional template types follow the same pattern
  event_invitation: {
    Instagram: {
      type: 'event_invitation',
      platform: 'Instagram',
      structure: {
        greeting: 'Hi {{name}} üëã',
        introduction: '{{event_introduction}}',
        main_content: '{{event_details}}',
        call_to_action: 'Bist du dabei? üéâ',
        closing: 'Beste Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['event_details', 'date', 'location']
      }
    },
    LinkedIn: {
      type: 'event_invitation',
      platform: 'LinkedIn',
      structure: {
        greeting: 'Sehr geehrte/r {{name}}',
        introduction: '{{event_introduction}}',
        main_content: '{{event_details}}',
        call_to_action: 'Ich w√ºrde mich sehr √ºber Ihre Teilnahme freuen.',
        closing: 'Mit besten Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'professional',
        required_elements: ['event_details', 'date', 'location', 'business_value']
      }
    },
    Facebook: {
      type: 'event_invitation',
      platform: 'Facebook',
      structure: {
        greeting: 'Hallo {{name}} üëã',
        introduction: '{{event_introduction}}',
        main_content: '{{event_details}}',
        call_to_action: 'Bist du dabei? üéâ',
        closing: 'Viele Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['event_details', 'date', 'location']
      }
    },
    TikTok: {
      type: 'event_invitation',
      platform: 'TikTok',
      structure: {
        greeting: 'Yo {{name}} üé™',
        introduction: 'Check das aus: {{event_introduction}}',
        main_content: '{{event_details}}',
        call_to_action: 'Be there! üî•',
        closing: 'See ya! üöÄ\n{{user_name}}'
      },
      rules: {
        max_length: 200,
        tone: 'casual',
        required_elements: ['event_details', 'hype_factor']
      }
    },
    Offline: {
      type: 'event_invitation',
      platform: 'Offline',
      structure: {
        greeting: 'Hallo {{name}}',
        introduction: '{{event_introduction}}',
        main_content: '{{event_details}}',
        call_to_action: 'Bitte best√§tigen Sie Ihre Teilnahme.',
        closing: 'Mit freundlichen Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 400,
        tone: 'formal',
        required_elements: ['event_details', 'date', 'location', 'rsvp_info']
      }
    }
  },
  collaboration: {
    Instagram: {
      type: 'collaboration',
      platform: 'Instagram',
      structure: {
        greeting: 'Hi {{name}} üëã',
        introduction: '{{collaboration_reason}}',
        main_content: '{{collaboration_details}}',
        call_to_action: 'Was h√§ltst du davon? ü§ù',
        closing: 'Beste Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['collaboration_reason', 'collaboration_details']
      }
    },
    LinkedIn: {
      type: 'collaboration',
      platform: 'LinkedIn',
      structure: {
        greeting: 'Sehr geehrte/r {{name}}',
        introduction: '{{collaboration_reason}}',
        main_content: '{{collaboration_details}}',
        call_to_action: 'Ich w√ºrde mich √ºber ein Gespr√§ch sehr freuen.',
        closing: 'Mit besten Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'professional',
        required_elements: ['collaboration_reason', 'collaboration_details', 'business_value']
      }
    },
    Facebook: {
      type: 'collaboration',
      platform: 'Facebook',
      structure: {
        greeting: 'Hallo {{name}} üëã',
        introduction: '{{collaboration_reason}}',
        main_content: '{{collaboration_details}}',
        call_to_action: 'Was h√§ltst du davon? ü§ù',
        closing: 'Viele Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['collaboration_reason', 'collaboration_details']
      }
    },
    TikTok: {
      type: 'collaboration',
      platform: 'TikTok',
      structure: {
        greeting: 'Hey {{name}} üî•',
        introduction: 'Mega Idee: {{collaboration_reason}}',
        main_content: '{{collaboration_details}}',
        call_to_action: 'Let\'s collab! üöÄ',
        closing: 'Stay creative ‚ú®\n{{user_name}}'
      },
      rules: {
        max_length: 200,
        tone: 'casual',
        required_elements: ['collaboration_idea', 'mutual_benefit']
      }
    },
    Offline: {
      type: 'collaboration',
      platform: 'Offline',
      structure: {
        greeting: 'Hallo {{name}}',
        introduction: 'Ich m√∂chte Ihnen eine Kooperationsm√∂glichkeit vorschlagen: {{collaboration_reason}}',
        main_content: '{{collaboration_details}}',
        call_to_action: 'K√∂nnen wir einen Termin vereinbaren?',
        closing: 'Mit freundlichen Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 400,
        tone: 'professional',
        required_elements: ['collaboration_proposal', 'business_case', 'next_steps']
      }
    }
  },
  feedback: {
    Instagram: {
      type: 'feedback',
      platform: 'Instagram',
      structure: {
        greeting: 'Hi {{name}} üëã',
        introduction: '{{feedback_context}}',
        main_content: '{{feedback_request}}',
        call_to_action: 'W√ºrde mich √ºber dein Feedback freuen! üôè',
        closing: 'Beste Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['feedback_context', 'feedback_request']
      }
    },
    LinkedIn: {
      type: 'feedback',
      platform: 'LinkedIn',
      structure: {
        greeting: 'Sehr geehrte/r {{name}}',
        introduction: '{{feedback_context}}',
        main_content: '{{feedback_request}}',
        call_to_action: 'Ich w√ºrde mich sehr √ºber Ihr Feedback freuen.',
        closing: 'Mit besten Gr√º√üen\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'professional',
        required_elements: ['feedback_context', 'feedback_request']
      }
    },
    Facebook: {
      type: 'feedback',
      platform: 'Facebook',
      structure: {
        greeting: 'Hallo {{name}} üëã',
        introduction: '{{feedback_context}}',
        main_content: '{{feedback_request}}',
        call_to_action: 'W√ºrde mich √ºber dein Feedback freuen! üôè',
        closing: 'Viele Gr√º√üe\n{{user_name}}'
      },
      rules: {
        max_length: 500,
        tone: 'casual',
        required_elements: ['feedback_context', 'feedback_request']
      }
    }
  }
};

export const getMessageTemplate = (type: MessageTemplateType, platform: Platform): MessageTemplate => {
  return messageTemplates[type][platform];
};

